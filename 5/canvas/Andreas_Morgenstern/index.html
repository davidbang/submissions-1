<!DOCTYPE html>
<html>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  
<style>
#c {border : 1px solid black}
</style>
<h1>Foooootballz</h1>
<div>
<canvas height="600" width="800" id="c">


</canvas>
</div>
<script type="text/javascript">
var done = 0;
var c = document.getElementById("c");
var ctx = c.getContext("2d");
ctx.fillStyle = "#00CC00";
ctx.fillRect(0,0,800,600);

ctx.fillStyle = "#0000FF";
ctx.fillRect(0,375, 800,10);

ctx.fillStyle = "#FFFFFF";

ctx.beginPath();
ctx.arc(400,400,10,0, 2 * Math.PI);
ctx.stroke();
ctx.fill();
ctx.closePath();

ctx.beginPath();
ctx.arc(370,400,10,0, 2 * Math.PI);
ctx.stroke();
ctx.fill();
ctx.closePath();

ctx.beginPath();
ctx.arc(340,400,10,0, 2 * Math.PI);
ctx.stroke();
ctx.fill();
ctx.closePath();

ctx.beginPath();
ctx.arc(430,400,10,0, 2 * Math.PI);
ctx.stroke();
ctx.fill();
ctx.closePath();

ctx.beginPath();
ctx.arc(460,400,10,0, 2 * Math.PI);
ctx.stroke();
ctx.fill();
ctx.closePath();

ctx.beginPath();
ctx.arc(400,475,10,0, 2 * Math.PI);
ctx.stroke();
ctx.fill();
ctx.closePath();

ctx.font = "bold 22px Arial";
ctx.fillText("X", 75, 438);

ctx.font = "bold 22px Arial";
ctx.fillText("X", 305, 408);

ctx.font = "bold 22px Arial";
ctx.fillText("X", 480, 408);

ctx.font = "bold 22px Arial";
ctx.fillText("X", 700, 438);

ctx.font = "bold 22px Arial";
ctx.fillText("X", 392, 520);

var receivers = [ {"id":"X","x":75,"y":438},
{"id":"H","x":305,"y":408},
{"id":"Y","x":480,"y":408},
{"id":"Z","x":700,"y":438},
{"id":"F","x":392,"y":520}
];



var down = 0;
c.addEventListener("mousedown", function(e){
var rules = 0;
var g =  $(window).scrollTop();
var p = c.getBoundingClientRect();
var x = e.pageX- p.left;
var y = e.pageY - p.top - g;
for (i = 0; i < receivers.length; i++) {
	if((Math.abs(receivers[i].x - x) < 10)){
		rules=1;
                break;
	};
}
if (down == 0 && rules == 1) {
ctx.beginPath();
ctx.moveTo(x,y);
ctx.fillStyle = "#000000";
down =1;
console.log(g);
}
})
c.addEventListener("mousemove", function(e){
var g =  $(window).scrollTop();
var rules = 0;
var p = c.getBoundingClientRect();
var x = e.pageX- p.left;
var y = e.pageY - p.top - g;
for (i = 0; i < receivers.length; i++) {
	if((Math.abs(receivers[i].x - x) < 10)){
		rules=1;
                break;
	};
}
if (down ==1 && rules == 1) {
ctx.lineTo(x,y);
ctx.stroke();

}
});
c.addEventListener("mouseup", function(e){
if (down == 1){
var g =  $(window).scrollTop();

var p = c.getBoundingClientRect();
var x = e.pageX- p.left;
var y = e.pageY - p.top - g;


ctx.lineTo(x,y);
ctx.stroke();
ctx.closePath();
down =0;
}
});

var h = document.getElementById("done");
h.addEventListener("click", function() {
done = done + 1;
});
</script>
</html>
